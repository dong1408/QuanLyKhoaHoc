<app-header></app-header>
<div class="login-wrapper">
    <div class="tw-flex tw-flex-col lg:tw-flex-row tw-gap-[12px]">
        <div class="border-primary tw-p-[12px] tw-w-full lg:tw-w-[400px]">
            <form nzLayout="vertical" nz-form class="tw-space-y-[16px]" [formGroup]="formChangePassword">
                <nz-form-item>
                    <h3 class="tw-text-center">Mật Khẩu Hiện Tại</h3>
                    <nz-form-control [nzErrorTip]="passwordcurrent" nzHasFeedback>
                        <input nz-input placeholder="Mật Khẩu Hiện Tại" type="password" formControlName="passwordcurrent"/>
                        <ng-template #passwordcurrent let-control>
                            <small *ngIf="control?.errors?.['required']" class="tw-ml-2 error">Không được để trống</small>
                            <small *ngIf="control?.errors?.['whitespace']" class="tw-ml-2 error">Không được sử dụng dấu khoảng trắng</small>
                        </ng-template>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <h3 class="tw-text-center">Mật Khẩu Mới</h3>
                    <nz-form-control [nzErrorTip]="password" nzHasFeedback>
                        <input nz-input placeholder="Mật Khẩu Mới" type="password" formControlName="password"/>
                        <ng-template #password let-control>
                            <small *ngIf="control?.errors?.['required']" class="tw-ml-2 error">Không được để trống</small>
                            <small *ngIf="control?.errors?.['whitespace']" class="tw-ml-2 error">Không được sử dụng dấu khoảng trắng</small>
                        </ng-template>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <h3 class="tw-text-center">Nhập Lại Mật Khẩu Mới</h3>
                    <nz-form-control [nzErrorTip]="password_confirmation" nzHasFeedback>
                        <input nz-input placeholder="Mật Khẩu Mới" type="password" formControlName="password_confirmation"/>
                        <ng-template #password_confirmation let-control>
                            <small *ngIf="control?.errors?.['required']" class="tw-ml-2 error">Không được để trống</small>
                            <small *ngIf="control?.errors?.['whitespace']" class="tw-ml-2 error">Không được sử dụng dấu khoảng trắng</small>
                            <small *ngIf="control?.errors?.['passwordsMatch']" class="tw-ml-2 error">Mật khẩu không trùng khớp</small>
                        </ng-template>
                    </nz-form-control>
                </nz-form-item>

                <div class="tw-text-center">
                    <button nz-button nzSize="default" (click)="onChangePassword()" [nzLoading]="changePasswordLoading" [disabled]="!formChangePassword.valid" nzType="primary">Đổi Mật Khẩu</button>
                </div>
            </form>
            <nz-divider></nz-divider>

            <div>
                <div class="tw-text-center tw-space-y-[0.5rem]">
                    <h2>Mã Cán Bộ</h2>
                    <h4 class="username">{{userInfo?.username}}</h4>
                </div>
                <div class="tw-text-center tw-space-y-[0.5rem]">
                    <h2>Tên Cán Bộ</h2>
                    <h4 class="username">{{userInfo?.name}}</h4>
                </div>
            </div>

        </div>
        <div class="tw-flex-1">
            <app-huong-dan-component [huongdan]="AppConstant.HUONG_DAN_DANG_NHAP"></app-huong-dan-component>
        </div>
    </div>
</div>